<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Numbered Map</title>
<link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet">
<style>
html, body, #map { margin:0; height:100%; }
</style>
</head>
<body>
<div id="map"></div>

<script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
<script>
const map = new maplibregl.Map({
  container: 'map',
  style: 'https://demotiles.maplibre.org/style.json',
  center: [139.7, 35.6],
  zoom: 6
});

map.on('load', () => {
  map.addSource('points', {
    type: 'geojson',
    data: 'spots.geojson'
  });

  // 点（背景）
  map.addLayer({
    id: 'points-circle',
    type: 'circle',
    source: 'points',
    paint: {
      'circle-radius': 10,
      'circle-color': '#ff5722'
    }
  });

  // 通し番号
  map.addLayer({
    id: 'points-number',
    type: 'symbol',
    source: 'points',
    layout: {
      'text-field': ['to-string', ['get', 'no']],
      'text-size': 12,
      'text-font': ['Open Sans Bold'],
      'text-anchor': 'center'
    },
    paint: {
      'text-color': '#ffffff'
    }
  });

  // ラベル
  map.addLayer({
    id: 'points-label',
    type: 'symbol',
    source: 'points',
    layout: {
      'text-field': ['get', 'name'],
      'text-size': 11,
      'text-offset': [0, 1.4],
      'text-anchor': 'top'
    },
    paint: {
      'text-color': '#333333'
    }
  });
});
</script>
</body>
</html>
